<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Lista de Produtos</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../list.css">
</head>
<body>
<div class="container mt-4">
    <h1>Lista de Produtos</h1>
    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>Uuid</th>
            <th>Descrição</th>
            <th>Valor</th>
            <th>Característica</th>
            <th>Data Cadastro</th>
            <th>Gamer</th>
            <th>Editar</th>
        </tr>
        </thead>
        <tbody>
<!--        <tr th:each="produto : ${produtos}" th:onclick="'redirectToEdit(' + ${produto.id} + ')'" style="cursor:pointer;">-->
        <tr th:each="produto : ${produtos}" style="cursor:pointer;" th:onclick="|window.location.href='@{/produtos/editar-produto(uuid=${produto.uuid})}'|">
            <td th:text="${produto.id}"></td>
            <td th:text="${produto.uuid}"></td>
            <td th:text="${produto.descricao}"></td>
            <td th:text="${#numbers.formatDecimal(produto.valor, 2, 0)}"></td>

            <td th:text="${produto.dataCadastro}"></td>
            <td th:text="${produto.gamer} ? 'sim' : 'não'"></td>
<!--            <td><a th:href="@{/produtos/editar-produto/uuid=${produto.uuid}}">Editar</a></td>-->
        </tr>

        </tbody>
    </table>
    <a th:href="@{/}" class="btn btn-warning">Voltar início</a>
</div>

<script>
    function redirectToEdit(produtoId) {
        window.location.href = '/produtos/cadastrar?id=' + produtoId;
    }
</script>
</body>
</html>
